# Copyright (C) 2017 Google Inc.
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as
# published by the Free Software Foundation, either version 3 of the
# License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License
# along with this program. If not, see <http://www.gnu.org/licenses/>.

_variables:
  from9: &from9 gcr.io/google-appengine/debian9:latest
  gosu: &gosu
    version: '1.10'
    gpg: B42F6819007F00F88E364FD4036A9C25BF357DD4
  gpg36: &gpg36 2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5
  gpg40: &gpg40 9DA31620334BD75D9DCB49F368818C72E52529D4

versions:
  - dir: '4/debian9/4.0'
    repo: mongodb4
    tags:
      - '4.0.9-debian9'
      - '4.0-debian9'
      - '4.0.9'
      - '4.0'
    from: *from9
    packages:
      gosu: *gosu
      mongodb:
        gpg: *gpg40
        major: '4.0'
        version: '4.0.9'
  - dir: '3/debian9/3.6'
    repo: mongodb3
    tags:
      - '3.6.12-debian9'
      - '3.6-debian9'
      - '3-debian9'
      - '3.6.12'
      - '3.6'
      - '3'
      - 'latest'
    from: *from9
    packages:
      gosu: *gosu
      mongodb:
        gpg: *gpg36
        major: '3.6'
        version: '3.6.12'

cloudbuild:
  enable_parallel: true
